<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_144) on Mon Oct 28 11:35:08 PDT 2019 -->
<title>CS246Similarity (project2 5.6.2 API)</title>
<meta name="date" content="2019-10-28">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CS246Similarity (project2 5.6.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":9,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../edu/ucla/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../edu/ucla/CS246Plugin.html" title="class in edu.ucla"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../edu/ucla/CS246SimilarityProvider.html" title="class in edu.ucla"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?edu/ucla/CS246Similarity.html" target="_top">Frames</a></li>
<li><a href="CS246Similarity.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.org.apache.lucene.search.similarities.Similarity">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.ucla</div>
<h2 title="Class CS246Similarity" class="title">Class CS246Similarity</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.search.similarities.Similarity</li>
<li>
<ul class="inheritance">
<li>edu.ucla.CS246Similarity</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">CS246Similarity</span>
extends org.apache.lucene.search.similarities.Similarity</pre>
<div class="block">A subclass of <code>Similarity</code> that provides a simplified API 
 to implement a custom scoring function based on tf, idf, payload and doc-values
 Subclasses are only required to implement the <a href="../../edu/ucla/CS246Similarity.html#score-edu.ucla.CS246Similarity.BasicStats-float-float-long-"><code>score(edu.ucla.CS246Similarity.BasicStats, float, float, long)</code></a>
 and <a href="../../edu/ucla/CS246Similarity.html#toString--"><code>toString()</code></a> methods. Implementing
 <a href="../../edu/ucla/CS246Similarity.html#explain-java.util.List-edu.ucla.CS246Similarity.BasicStats-int-float-float-long-"><code>explain(List, BasicStats, int, float, float, long)</code></a> is optional,
 inasmuch as CS246Similarity already provides a basic explanation of the score
 and the term frequency. However, implementers of a subclass are encouraged to
 include as much detail about the scoring method as possible.
 <p>
 Note: multi-word queries such as phrase queries are scored in a different way
 than Lucene's default ranking algorithm: whereas it "fakes" an IDF value for
 the phrase as a whole (since it does not know it), this class instead scores
 phrases as a summation of the individual term scores.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.lucene.search.similarities.Similarity">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from class&nbsp;org.apache.lucene.search.similarities.Similarity</h3>
<code>org.apache.lucene.search.similarities.Similarity.SimScorer, org.apache.lucene.search.similarities.Similarity.SimWeight</code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#discountOverlaps">discountOverlaps</a></span></code>
<div class="block">True if overlap tokens (tokens with a position of increment of zero) are
 discounted from the document's length.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.elasticsearch.common.settings.Settings</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#settings">settings</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#signalField">signalField</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#CS246Similarity-org.elasticsearch.common.settings.Settings-">CS246Similarity</a></span>(org.elasticsearch.common.settings.Settings&nbsp;settings)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#computeNorm-org.apache.lucene.index.FieldInvertState-">computeNorm</a></span>(org.apache.lucene.index.FieldInvertState&nbsp;state)</code>
<div class="block">Encodes the document length in the same way as TFIDFSimilarity.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>org.apache.lucene.search.similarities.Similarity.SimWeight</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#computeWeight-org.apache.lucene.search.CollectionStatistics-org.apache.lucene.search.TermStatistics...-">computeWeight</a></span>(org.apache.lucene.search.CollectionStatistics&nbsp;collectionStats,
             org.apache.lucene.search.TermStatistics...&nbsp;termStats)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#decodeNormValue-byte-">decodeNormValue</a></span>(byte&nbsp;norm)</code>
<div class="block">Decodes a normalization factor (document length) stored in an index.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#docValueBoost-long-">docValueBoost</a></span>(long&nbsp;docValue)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected byte</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#encodeNormValue-float-float-">encodeNormValue</a></span>(float&nbsp;boost,
               float&nbsp;length)</code>
<div class="block">Encodes the length to a byte via SmallFloat.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected org.apache.lucene.search.Explanation</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#explain-edu.ucla.CS246Similarity.BasicStats-int-org.apache.lucene.search.Explanation-float-long-">explain</a></span>(edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
       int&nbsp;doc,
       org.apache.lucene.search.Explanation&nbsp;freq,
       float&nbsp;docLen,
       long&nbsp;signal)</code>
<div class="block">Explains the score.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#explain-java.util.List-edu.ucla.CS246Similarity.BasicStats-int-float-float-long-">explain</a></span>(java.util.List&lt;org.apache.lucene.search.Explanation&gt;&nbsp;subExpls,
       edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
       int&nbsp;doc,
       float&nbsp;freq,
       float&nbsp;docLen,
       long&nbsp;docValue)</code>
<div class="block">Add the explanation for all subexpressions of the scoring function
 Here, we add explanations on tf, idf, 1/|d|, and click signal</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#fillBasicStats-edu.ucla.CS246Similarity.BasicStats-org.apache.lucene.search.CollectionStatistics-org.apache.lucene.search.TermStatistics-">fillBasicStats</a></span>(edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
              org.apache.lucene.search.CollectionStatistics&nbsp;collectionStats,
              org.apache.lucene.search.TermStatistics&nbsp;termStats)</code>
<div class="block">Fills all member fields defined in <code>BasicStats</code> in <code>stats</code>.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#getDiscountOverlaps--">getDiscountOverlaps</a></span>()</code>
<div class="block">Returns true if overlap tokens are discounted from the document's length.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#idf-edu.ucla.CS246Similarity.BasicStats-">idf</a></span>(edu.ucla.CS246Similarity.BasicStats&nbsp;stats)</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#log2-double-">log2</a></span>(double&nbsp;x)</code>
<div class="block">Returns the base two logarithm of <code>x</code>.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected edu.ucla.CS246Similarity.BasicStats</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#newStats-java.lang.String-">newStats</a></span>(java.lang.String&nbsp;field)</code>
<div class="block">Factory method to return a custom stats object</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#score-edu.ucla.CS246Similarity.BasicStats-float-float-long-">score</a></span>(edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
     float&nbsp;tf,
     float&nbsp;docLen,
     long&nbsp;docValue)</code>
<div class="block">Score the document for one term.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#setDiscountOverlaps-boolean-">setDiscountOverlaps</a></span>(boolean&nbsp;v)</code>
<div class="block">Determines whether overlap tokens (Tokens with
  0 position increment) are ignored when computing
  norm.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>org.apache.lucene.search.similarities.Similarity.SimScorer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#simScorer-org.apache.lucene.search.similarities.Similarity.SimWeight-org.apache.lucene.index.LeafReaderContext-">simScorer</a></span>(org.apache.lucene.search.similarities.Similarity.SimWeight&nbsp;stats,
         org.apache.lucene.index.LeafReaderContext&nbsp;context)</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../edu/ucla/CS246Similarity.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.lucene.search.similarities.Similarity">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.lucene.search.similarities.Similarity</h3>
<code>coord, queryNorm</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="settings">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>settings</h4>
<pre>protected final&nbsp;org.elasticsearch.common.settings.Settings settings</pre>
</li>
</ul>
<a name="signalField">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>signalField</h4>
<pre>protected&nbsp;java.lang.String signalField</pre>
</li>
</ul>
<a name="discountOverlaps">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>discountOverlaps</h4>
<pre>protected&nbsp;boolean discountOverlaps</pre>
<div class="block">True if overlap tokens (tokens with a position of increment of zero) are
 discounted from the document's length.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CS246Similarity-org.elasticsearch.common.settings.Settings-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CS246Similarity</h4>
<pre>public&nbsp;CS246Similarity(org.elasticsearch.common.settings.Settings&nbsp;settings)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</li>
</ul>
<a name="score-edu.ucla.CS246Similarity.BasicStats-float-float-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>score</h4>
<pre>protected&nbsp;float&nbsp;score(edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
                      float&nbsp;tf,
                      float&nbsp;docLen,
                      long&nbsp;docValue)</pre>
<div class="block">Score the document for one term. This function is called for every term in the query.
 The results from calls to this function are all added to compute the final similarity score.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stats</code> - collection-wise statistics, such as document frequency and total number of documents</dd>
<dd><code>tf</code> - "term frequency" of the current term in the document</dd>
<dd><code>docLen</code> - the length of document, |d|</dd>
<dd><code>docValue</code> - document-specific signal that can be used for score calculation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>computed similarity score between the current term and the document.</dd>
</dl>
</li>
</ul>
<a name="idf-edu.ucla.CS246Similarity.BasicStats-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>idf</h4>
<pre>protected&nbsp;float&nbsp;idf(edu.ucla.CS246Similarity.BasicStats&nbsp;stats)</pre>
</li>
</ul>
<a name="docValueBoost-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>docValueBoost</h4>
<pre>protected&nbsp;float&nbsp;docValueBoost(long&nbsp;docValue)</pre>
</li>
</ul>
<a name="explain-java.util.List-edu.ucla.CS246Similarity.BasicStats-int-float-float-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>explain</h4>
<pre>protected&nbsp;void&nbsp;explain(java.util.List&lt;org.apache.lucene.search.Explanation&gt;&nbsp;subExpls,
                       edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
                       int&nbsp;doc,
                       float&nbsp;freq,
                       float&nbsp;docLen,
                       long&nbsp;docValue)</pre>
<div class="block">Add the explanation for all subexpressions of the scoring function
 Here, we add explanations on tf, idf, 1/|d|, and click signal</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subExpls</code> - explanations for subexpressions should be to this</dd>
<dd><code>stats</code> - the corpus level statistics.</dd>
<dd><code>doc</code> - the document id.</dd>
<dd><code>freq</code> - the term frequency.</dd>
<dd><code>docLen</code> - the document length |d|.</dd>
<dd><code>docValue</code> - additional signal used for document scoring.</dd>
</dl>
</li>
</ul>
<a name="setDiscountOverlaps-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDiscountOverlaps</h4>
<pre>public&nbsp;void&nbsp;setDiscountOverlaps(boolean&nbsp;v)</pre>
<div class="block">Determines whether overlap tokens (Tokens with
  0 position increment) are ignored when computing
  norm.  By default this is true, meaning overlap
  tokens do not count when computing norms.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>v</code> - are overlap tokens ignored?</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../edu/ucla/CS246Similarity.html#computeNorm-org.apache.lucene.index.FieldInvertState-"><code>computeNorm(org.apache.lucene.index.FieldInvertState)</code></a></dd>
</dl>
</li>
</ul>
<a name="getDiscountOverlaps--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDiscountOverlaps</h4>
<pre>public&nbsp;boolean&nbsp;getDiscountOverlaps()</pre>
<div class="block">Returns true if overlap tokens are discounted from the document's length.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>discountOverlaps value</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../edu/ucla/CS246Similarity.html#setDiscountOverlaps-boolean-"><code>setDiscountOverlaps(boolean)</code></a></dd>
</dl>
</li>
</ul>
<a name="computeWeight-org.apache.lucene.search.CollectionStatistics-org.apache.lucene.search.TermStatistics...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeWeight</h4>
<pre>public final&nbsp;org.apache.lucene.search.similarities.Similarity.SimWeight&nbsp;computeWeight(org.apache.lucene.search.CollectionStatistics&nbsp;collectionStats,
                                                                                      org.apache.lucene.search.TermStatistics...&nbsp;termStats)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>computeWeight</code>&nbsp;in class&nbsp;<code>org.apache.lucene.search.similarities.Similarity</code></dd>
</dl>
</li>
</ul>
<a name="newStats-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newStats</h4>
<pre>protected&nbsp;edu.ucla.CS246Similarity.BasicStats&nbsp;newStats(java.lang.String&nbsp;field)</pre>
<div class="block">Factory method to return a custom stats object</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>field</code> - name of the SimWeight field</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>BasicStats</dd>
</dl>
</li>
</ul>
<a name="fillBasicStats-edu.ucla.CS246Similarity.BasicStats-org.apache.lucene.search.CollectionStatistics-org.apache.lucene.search.TermStatistics-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fillBasicStats</h4>
<pre>protected&nbsp;void&nbsp;fillBasicStats(edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
                              org.apache.lucene.search.CollectionStatistics&nbsp;collectionStats,
                              org.apache.lucene.search.TermStatistics&nbsp;termStats)</pre>
<div class="block">Fills all member fields defined in <code>BasicStats</code> in <code>stats</code>. 
  Subclasses can override this method to fill additional stats.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stats</code> - is used as the output to store relevant statistics</dd>
<dd><code>collectionStats</code> - collection-wide statistics</dd>
<dd><code>termStats</code> - term-specific statistics</dd>
</dl>
</li>
</ul>
<a name="explain-edu.ucla.CS246Similarity.BasicStats-int-org.apache.lucene.search.Explanation-float-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>explain</h4>
<pre>protected&nbsp;org.apache.lucene.search.Explanation&nbsp;explain(edu.ucla.CS246Similarity.BasicStats&nbsp;stats,
                                                       int&nbsp;doc,
                                                       org.apache.lucene.search.Explanation&nbsp;freq,
                                                       float&nbsp;docLen,
                                                       long&nbsp;signal)</pre>
<div class="block">Explains the score. The implementation here provides a basic explanation
 in the format <em>score(name-of-similarity, doc=doc-id,
 freq=term-frequency), computed from:</em>, and
 attaches the score (computed via the <a href="../../edu/ucla/CS246Similarity.html#score-edu.ucla.CS246Similarity.BasicStats-float-float-long-"><code>score(BasicStats, float, float, long)</code></a>
 method) and the explanation for the term frequency. Subclasses content with
 this format may add additional details in
 <a href="../../edu/ucla/CS246Similarity.html#explain-java.util.List-edu.ucla.CS246Similarity.BasicStats-int-float-float-long-"><code>explain(List, BasicStats, int, float, float, long)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stats</code> - the corpus level statistics.</dd>
<dd><code>doc</code> - the document id.</dd>
<dd><code>freq</code> - the term frequency and its explanation.</dd>
<dd><code>docLen</code> - the document length |d|.</dd>
<dd><code>signal</code> - additional signal used for document scoring.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the explanation.</dd>
</dl>
</li>
</ul>
<a name="simScorer-org.apache.lucene.search.similarities.Similarity.SimWeight-org.apache.lucene.index.LeafReaderContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>simScorer</h4>
<pre>public&nbsp;org.apache.lucene.search.similarities.Similarity.SimScorer&nbsp;simScorer(org.apache.lucene.search.similarities.Similarity.SimWeight&nbsp;stats,
                                                                            org.apache.lucene.index.LeafReaderContext&nbsp;context)
                                                                     throws java.io.IOException</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>simScorer</code>&nbsp;in class&nbsp;<code>org.apache.lucene.search.similarities.Similarity</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="computeNorm-org.apache.lucene.index.FieldInvertState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeNorm</h4>
<pre>public&nbsp;long&nbsp;computeNorm(org.apache.lucene.index.FieldInvertState&nbsp;state)</pre>
<div class="block">Encodes the document length in the same way as TFIDFSimilarity.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>computeNorm</code>&nbsp;in class&nbsp;<code>org.apache.lucene.search.similarities.Similarity</code></dd>
</dl>
</li>
</ul>
<a name="decodeNormValue-byte-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decodeNormValue</h4>
<pre>protected&nbsp;float&nbsp;decodeNormValue(byte&nbsp;norm)</pre>
<div class="block">Decodes a normalization factor (document length) stored in an index.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>norm</code> - encoded length normal value</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>decoded length normal value</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../edu/ucla/CS246Similarity.html#encodeNormValue-float-float-"><code>encodeNormValue(float,float)</code></a></dd>
</dl>
</li>
</ul>
<a name="encodeNormValue-float-float-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encodeNormValue</h4>
<pre>protected&nbsp;byte&nbsp;encodeNormValue(float&nbsp;boost,
                               float&nbsp;length)</pre>
<div class="block">Encodes the length to a byte via SmallFloat.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>boost</code> - field boost factor</dd>
<dd><code>length</code> - field length</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>encoded length normal value</dd>
</dl>
</li>
</ul>
<a name="log2-double-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log2</h4>
<pre>public static&nbsp;double&nbsp;log2(double&nbsp;x)</pre>
<div class="block">Returns the base two logarithm of <code>x</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - input</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>log2(x)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../edu/ucla/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../edu/ucla/CS246Plugin.html" title="class in edu.ucla"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../edu/ucla/CS246SimilarityProvider.html" title="class in edu.ucla"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?edu/ucla/CS246Similarity.html" target="_top">Frames</a></li>
<li><a href="CS246Similarity.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.classes.inherited.from.class.org.apache.lucene.search.similarities.Similarity">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
